(function(){jQuery(function(){new Preloader(jQuery('.preloader'));new SearchForm(jQuery('.search'));jQuery.each(jQuery('.basket'),function(){new BasketViewCart(jQuery(this));});jQuery.each(jQuery('.signup__form'),function(){new SubscribeForm(jQuery(this));});jQuery.each(jQuery('.map'),function(){new Map(jQuery(this));});});var Map=function(obj){var _mapData=obj.data('map'),_map=null,_obj=obj;var _addEvents=function(){},_getMapData=function(){_mapData.center=new google.maps.LatLng(_mapData.center[0],_mapData.center[1]);jQuery.each(_mapData.points,function(i){_mapData.points[i]=new google.maps.LatLng(this[0],this[1]);});},_init=function(){_getMapData();google.maps.event.addDomListener(window,'load',_initMap);_addEvents();},_initMap=function(){var MY_MAPTYPE_ID='custom_style',mapOptions={zoom:_mapData.zoom,center:_mapData.center,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,MY_MAPTYPE_ID]},mapTypeId:MY_MAPTYPE_ID,disableDefaultUI:true,scrollwheel:false,gestureHandling:'cooperative',zoomControl:true,mapTypeControl:false,scaleControl:false,streetViewControl:false,rotateControl:false,fullscreenControl:false},styledMapOptions={name:'Custom Style'},customMapType=null,image='img/map-pin.svg';_map=new google.maps.Map(_obj[0],mapOptions);customMapType=new google.maps.StyledMapType(styledMapOptions);_map.mapTypes.set(MY_MAPTYPE_ID,customMapType);jQuery.each(_mapData.points,function(){new google.maps.Marker({position:this,map:_map});});};_init();};var BasketViewCart=function(obj){var _obj=obj,_btnOpen=_obj.find('.basket__btn'),_popup=_obj.find('.basket__popup'),_popupClose=_popup.find('.basket__popup-close'),_site=jQuery('.site'),_window=jQuery(window),_position=0,_body=jQuery('html, body');var _onEvent=function(){_site.on('click',function(e){if(_obj.hasClass('active')&&jQuery(e.target).closest(_obj).length==0){_closePopup();};});_btnOpen.on('click',function(){if(_obj.hasClass('active')){_closePopup();}else{_openPopup();}});_popupClose.on('click',function(){_closePopup();return false;});},_openPopup=function(){if(_window.outerWidth()<768){_position=_window.scrollTop();_body.css('overflow-y','hidden');_site.css({'position':'relative','top':_position*-1});}_obj.addClass('active');},_closePopup=function(){_obj.removeClass('active');if(_window.outerWidth()<768){_body.removeAttr('style');_site.removeAttr('style');_window.scrollTop(_position);}},_construct=function(){_onEvent();};_construct();};var Preloader=function(obj){var _html=jQuery('html'),_body=jQuery('body'),_preloader=obj;var _init=function(){_showSite();},_showSite=function(){_preloader.addClass('preloader_loaded');setTimeout(function(){_preloader.remove();},500);};_init();};var SearchForm=function(obj){var _obj=obj,_btnMobileOpen=_obj.find('.search__btn-open'),_btnMobileClose=_obj.find('.search__btn-close'),_searchForm=_obj.find('.search__form'),_searchInput=_searchForm.find('input'),_searchPopup=_obj.find('.search__popup'),_searchViewPanel=_obj.find('.search__result-view'),_searchViewButtons=_searchViewPanel.find('.search__btn-view'),_searchPriceFilter=_searchViewPanel.find('.search__btn-filter'),_searchResultFrame=_obj.find('.search__result'),_searchResultCount=_searchResultFrame.find('.search__result-count'),_searchResultValue=_searchResultFrame.find('.search__result-value'),_searchResultWrap=_searchResultFrame.find('.search__result-wrap'),_searchResultScrollWrap=_searchResultFrame.find('.search__result-scroll-wrap'),_searchPopupAside=_obj.find('.search__popup-aside'),_searchPopupAsideWrap=_searchPopupAside.find('.search__popup-aside_wrap'),_searchPopupAsideBtnOpen=_searchPopupAside.find('.search__popup-aside_tail'),_position=0,_asideScroll,_resultScroll,_body=jQuery('html, body'),_site=jQuery('.site'),_window=jQuery(window);var _onEvent=function(){_site.on('click',function(e){if(_searchPopup.hasClass('show')&&jQuery(e.target).closest(_obj).length==0){_hidePopup();}});_btnMobileOpen.on('click',function(){_showPanel();});_btnMobileClose.on('click',function(){_hidePanel();return false;});_searchPopupAsideBtnOpen.on('click',function(){if(!_searchPopupAside.hasClass('show')){_showAside();}else{_hideAside();}return false;});_searchInput.on({'focus':function(){if(!_searchPopup.hasClass('show')){_prepend();}}});_searchViewButtons.on('click',function(){var curBtn=jQuery(this);_changeView(curBtn);});_searchPriceFilter.on('click',function(){_changePriceOrder();});},_prepend=function(){_searchPopup.addClass('load');if(_searchPriceFilter.data('order')==undefined){_priceOrderCheck();}_loadData();},_loadData=function(data){var asideItemFrame,productItemFrame;_searchPopup.removeClass('empty');_showPopup();_searchPopup.removeClass('load');},_changePriceOrder=function(){if(_searchPriceFilter.attr('data-order')=='ASC'){_searchPriceFilter.attr('data-order','DESC');localStorage.setItem('searchPriceOrder','DESC');}else{_searchPriceFilter.attr('data-order','ASC');localStorage.setItem('searchPriceOrder','ASC');}},_priceOrderCheck=function(){var savePriceOrder=localStorage.getItem('searchPriceOrder'),actualOrder=_searchPriceFilter.attr('data-order');if(actualOrder==undefined&&savePriceOrder==null){_searchPriceFilter.attr('data-order','ASC');}else if(savePriceOrder!=null){_searchPriceFilter.attr('data-order',savePriceOrder);}},_showAside=function(){_searchPopupAside.addClass('show');},_hideAside=function(){_searchPopupAside.removeClass('show');},_showPanel=function(){_searchForm.addClass('show');if(_window.outerWidth()<992){_position=_window.scrollTop();_body.css('overflow-y','hidden');_site.css({'position':'relative','top':_position*-1});}setTimeout(function(){_searchInput.focus();},300)},_hidePanel=function(){_searchForm[0].reset();_hidePopup();_searchForm.removeClass('show');if(_window.outerWidth()<992){_body.removeAttr('style');_site.removeAttr('style');_window.scrollTop(_position);}},_showPopup=function(){_searchForm.addClass('active');_searchPopup.addClass('show');if(_window.outerWidth()<1200){_position=_window.scrollTop();_body.css('overflow-y','hidden');_site.css({'position':'relative','top':_position*-1});}_pickUpAside();_viewCheck();_priceOrderCheck();_initScroll();},_hidePopup=function(){if(_window.outerWidth()<1200){_body.removeAttr('style');_site.removeAttr('style');_window.scrollTop(_position);}_searchForm.removeClass('active');_searchPopup.removeClass('show');},_pickUpAside=function(){var asideCatalogTitle=_searchPopupAside.find('dt'),asideCatalogWrap=_searchPopupAside.find('dd');asideCatalogWrap.each(function(){var curFrame=jQuery(this);curFrame.css('height',curFrame.outerHeight());});asideCatalogTitle.on('click',function(){var curBtn=jQuery(this),curParent=curBtn.parents('dl'),curWrap=curParent.find('dd'),curWrapHeight=curWrap.find('ul').outerHeight();if(!curParent.hasClass('open')){curParent.addClass('open');curWrap.css('height',curWrapHeight);}else{curParent.removeClass('open');curWrap.css('height',0);}});},_changeView=function(btn){var curBtn=btn,curView=curBtn.data('view'),actualView=_searchViewButtons.filter('.active').data('view');localStorage.setItem('searchView',curView);_searchResultWrap.removeClass(actualView);_searchViewButtons.removeClass('active');curBtn.addClass('active');_searchResultWrap.addClass(curView);},_viewCheck=function(){var saveView=localStorage.getItem('searchView'),actualView=_searchViewButtons.filter('.active').data('view');if(actualView==undefined&&saveView==null){_searchViewButtons.eq(0).trigger('click')}else if(saveView!=null){_searchViewButtons.filter('[data-view='+saveView+']').trigger('click');}else if(actualView!=undefined){_searchViewButtons.filter('.active').trigger('click')}},_initScroll=function(){var jQuery=document.querySelector.bind(document);if(_asideScroll!=null){_asideScroll.update();}else{_asideScroll=new PerfectScrollbar('.search__popup-aside_wrap');}if(_resultScroll!=null){_resultScroll.update();}else{_resultScroll=new PerfectScrollbar('.search__result');}},_construct=function(){_onEvent();};_construct();};var SubscribeForm=function(obj){var _obj=obj,_emailFielder=_obj.find('input[type=email]'),_successMessage=_obj.find('.signup__success'),_linkToHandler=_obj.attr('action'),_validation=new FormValidator(_obj);var _init=function(){_onEvent();},_onEvent=function(){_obj.on('submit',function(){if(_validation.valid==true){_showSuccessMessage();};return false;});},_showSuccessMessage=function(){_successMessage.addClass('show');_obj[0].reset();setTimeout(function(){_successMessage.removeClass('show');},4000);};_init();};})();(function(){"use strict";jQuery(function(){jQuery.each(jQuery('.hero'),function(){new HeroSlider(jQuery(this));});jQuery.each(jQuery('.products'),function(){new ProductsSlider(jQuery(this));});jQuery.each(jQuery('.premium-quality'),function(){new PremiumQuality(jQuery(this));});});var HeroSlider=function(obj){var _obj=obj,_heroSlider=_obj.find('.hero__swiper'),_heroPagination=_obj.find('.hero__pagination'),_hero,_heroSlide=_heroSlider.find('.hero__slider'),_heroPicture=_heroSlide.find('.hero__pic'),_heroContent=_heroSlide.find('.hero__content'),_window=jQuery(window);var _initSlider=function(){_hero=new Swiper(_heroSlider,{effect:'fade',autoplay:false,speed:500,pagination:{el:_heroPagination,clickable:true,renderBullet:function(index,className){return'<span class="'+className+'">'+(index+1)+'</span>';},},on:{init:function(){if(_window.outerWidth()<768){_standPagination();}else{_widthPagination();}setTimeout(function(){_heroPagination.append('<span class="hero__pagination-trolley"></span>');_moveTrolley();if(_window.outerWidth()>=1200){_hoverPagination();};},300);_window.on('resize',function(){_heroPicture.removeAttr('style');_heroPagination.removeAttr('style');setTimeout(function(){if(_window.outerWidth()<768){_standPagination();}else{_widthPagination();}},300)});},slideChangeTransitionStart:function(){_moveTrolley();if(_window.outerWidth()>=1200){_hoverPagination();};}}});},_widthPagination=function(){_heroPagination.css('max-width',_heroContent.outerWidth()-52);},_standPagination=function(){var arrHeight=[];_heroPicture.each(function(){var curObj=jQuery(this);arrHeight.push(curObj.outerHeight());});var minHeight=Math.min.apply(Math,arrHeight);_heroPicture.css('height',minHeight);_heroPagination.css('top',minHeight+10)},_moveTrolley=function(){var trolley=_heroPagination.find('.hero__pagination-trolley'),activeBullet=_heroPagination.find('.swiper-pagination-bullet-active');trolley.css({left:activeBullet.offset().left-_heroPagination.offset().left,width:activeBullet.outerWidth()})},_hoverPagination=function(){var trolley=_heroPagination.find('.hero__pagination-trolley'),paginationItem=_heroPagination.find('.swiper-pagination-bullet'),startTrolleyPotion=trolley.offset().left-_heroPagination.offset().left,startTrolleyWidth=trolley.outerWidth();paginationItem.on({'mouseover':function(){var curItem=jQuery(this);trolley.css({'left':curItem.offset().left-_heroPagination.offset().left,'width':curItem.outerWidth()});},'mouseout':function(){trolley.css({'left':startTrolleyPotion,'width':startTrolleyWidth});}});},_construct=function(){_initSlider();};_construct();};var ProductsSlider=function(obj){var _obj=obj,_productsSlider=_obj.find('.products__slider'),_nextBtn=_obj.find('.products__slider-next'),_prevBtn=_obj.find('.products__slider-prev'),_products;var _initSlider=function(){_products=new Swiper(_productsSlider,{effect:'slide',centeredSlides:true,autoplay:false,loop:true,slidesPerView:'auto',spaceBetween:30,speed:500,navigation:{nextEl:_nextBtn,prevEl:_prevBtn},});},_construct=function(){_initSlider();};_construct();};var PremiumQuality=function(obj){var _obj=obj,_productsSlider=_obj.find('.premium-quality__item'),_site=jQuery('.site'),_window=jQuery(window);var _onEvent=function(){_site.on('click',function(e){if(_productsSlider.hasClass('active')&&jQuery(e.target).closest(_productsSlider).length==0){_productsSlider.filter('.active').removeClass('active');}});_productsSlider.on('click',function(){var curItem=jQuery(this);if(_window.outerWidth()<1200){if(curItem.hasClass('active')){curItem.removeClass('active');}else{_productsSlider.removeClass('active');curItem.addClass('active');}}})},_construct=function(){_onEvent();};_construct();};})();(function(){"use strict";jQuery(function(){jQuery.each(jQuery('.premium-quality'),function(){new PremiumQuality(jQuery(this));});jQuery.each(jQuery('.style-guide__article'),function(){new StyleGuideSlider(jQuery(this));});});var PremiumQuality=function(obj){var _obj=obj,_productsSlider=_obj.find('.premium-quality__item'),_site=jQuery('.site'),_window=jQuery(window);var _onEvent=function(){_site.on('click',function(e){if(_productsSlider.hasClass('active')&&jQuery(e.target).closest(_productsSlider).length==0){_productsSlider.filter('.active').removeClass('active');}});_productsSlider.on('click',function(){var curItem=jQuery(this);if(_window.outerWidth()<1200){if(curItem.hasClass('active')){curItem.removeClass('active');}else{_productsSlider.removeClass('active');curItem.addClass('active');}}})},_construct=function(){_onEvent();};_construct();};var StyleGuideSlider=function(obj){var _obj=obj,_pictureSlider=_obj.find('.style-guide__slider'),_picturePagination=_obj.find('.style-guide__slider-pagination'),_picture;var _initSlider=function(){_picture=new Swiper(_pictureSlider,{effect:'slide',loop:true,autoplay:false,speed:500,pagination:{el:_picturePagination,clickable:true}});},_construct=function(){_initSlider();};_construct();};})();(function(){"use strict";jQuery(function(){jQuery.each(jQuery('.account__navigation'),function(){new AccountNavigation(jQuery(this));});jQuery.each(jQuery('.account-address__form'),function(){new ValidAddress(jQuery(this));});jQuery.each(jQuery('.credit__wrap'),function(){new InitTableScroll(jQuery(this));});});var CatalogList=function(obj){var _obj=obj,_item=_obj.find('.products__item'),_window=jQuery(window);var _init=function(){_onEvent();if(_window.outerWidth()>=768){_uploadMargin();}},_uploadMargin=function(){var wrapWidth=_obj.outerWidth(),itemWidth=_item.outerWidth(),itemMargin=0,items=0;items=Math.floor(wrapWidth/itemWidth);itemMargin=wrapWidth-itemWidth*items;itemMargin=itemMargin/(items-1);if(itemMargin<5){items=items-1;itemMargin=wrapWidth-itemWidth*items;itemMargin=itemMargin/(items-1);}_item.css('margin-right',itemMargin);_obj.css('margin-right',(itemMargin*-1));},_onEvent=function(){_window.on('resize',function(){_obj.removeAttr('style');_item.removeAttr('style');if(_window.outerWidth()>996){_uploadMargin();}});};_init();};var AccountNavigation=function(obj){var _obj=obj,_defaultNavigationPosition=_obj.offset().top,_defaultLeftNavigation=_obj.offset().left,_btnOpenMobileNavigation=_obj.find('.account__navigation-current-item'),_navigationListItem=_obj.find('li'),_navigationItem=_obj.find('.account__navigation-item'),_activeNavigationItem=_navigationItem.filter('.active'),_site=jQuery('.site'),_basicWrap=_site.find('.account'),_articleWrap=_basicWrap.find('.account__wrap'),_carriage=_obj.find('.account__navigation-carriage'),_html=jQuery('html'),_body=jQuery('body'),_window=jQuery(window),_position=0;var _init=function(){_onEvent();_checkPositionNavigation();_moveCarriage(_activeNavigationItem);},_onEvent=function(){_site.on('click',function(e){if(_obj.hasClass('open')&&jQuery(e.target).closest(_obj).length==0){_closeMobileNavigation();};});_window.on({'scroll':function(){_checkPositionNavigation();},'resize':function(){_defaultLeftNavigation=_obj.offset().left;}});_btnOpenMobileNavigation.on('click',function(){if(!_obj.hasClass('open')){_openMobileNavigation();}else{_closeMobileNavigation();};return false;});_navigationListItem.on({'mouseover':function(){var curItem=jQuery(this),curNavigationItem=curItem.find('.account__navigation-item');_moveCarriage(curNavigationItem);},'mouseout':function(){_moveCarriage(_activeNavigationItem);}});},_openMobileNavigation=function(){_position=_window.scrollTop();_obj.addClass('open');setTimeout(function(){_body.scrollTop(_obj.offset().top);},100);setTimeout(function(){_body.css('overflow-y','hidden');},200);},_closeMobileNavigation=function(){_body.removeAttr('style');setTimeout(function(){_html.scrollTop(_position);_body.scrollTop(_position);_checkPositionNavigation();},100);_obj.removeClass('open');},_checkPositionNavigation=function(){var textWrapBottom=_articleWrap.offset().top+_articleWrap.outerHeight()-_obj.outerHeight();if(_body.scrollTop()>=_defaultNavigationPosition||_html.scrollTop()>=_defaultNavigationPosition){_obj.removeAttr('style');_fixNavigationToTop();if(_obj.offset().top>=textWrapBottom){_obj.css({'position':'absolute','top':textWrapBottom-_basicWrap.offset().top,'left':0});};}else if(!_obj.hasClass('open')){_unfixNavigationToTop();}},_fixNavigationToTop=function(){_obj.addClass('fixed');_obj.css('left',_defaultLeftNavigation);},_moveCarriage=function(item){var curItem=item;_carriage.css({'top':curItem.offset().top-_obj.offset().top,'height':curItem.outerHeight()});},_unfixNavigationToTop=function(){_obj.removeClass('fixed');_obj.css('left',0);};_init();};var ValidAddress=function(obj){var _obj=obj,_validation=new FormValidator(_obj);var _init=function(){_onEvent();},_onEvent=function(){_obj.on('submit',function(){if(_validation.valid!=false){return false;};});};_init();};var InitTableScroll=function(obj){var _obj=obj,_window=jQuery(window),_scroll;var _init=function(){_onEvent();},_onEvent=function(){_window.on('resize',function(){if(_window.outerWidth()>_obj.outerWidth()){_scroll();return false;};});},_scroll=function(){var jQuery=document.querySelector.bind(document);if(_scroll!=null){_scroll.update();}else{_scroll=new PerfectScrollbar('.credit__wrap',{suppressScrollX:true});}};_init();};})();(function(){jQuery(function(){jQuery('select').each(function(){if(url.indexOf('/checkoout/cart')!=-1){new CustomSelect({obj:jQuery(this),optionType:jQuery(this).data('option')});}});});var CustomSelect=function(params){var _self=this,_obj=params.obj,_optionType=params.optionType||0,_visible=params.visible||5,_device=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),_text=jQuery('<span class="custom-select__item"></span>'),_wrap=jQuery('<div class="custom-select"></div>'),_window=jQuery(window),_body=jQuery('body'),_opened=false,_popup,_scroll;var _addWrap=function(){var curText='';_obj.css({opacity:0});_obj.wrap(_wrap);_wrap=_obj.parent();_wrap.addClass(_obj.attr('class'));_wrap.append('<div class="custom-select__arrow"><svg viewBox="0 0 14 12"><polygon points="0,0 14,0 7,12 "/></svg></div>');_obj.before(_text);_obj.find('option').each(function(){var curItem=jQuery(this);if(curItem.attr('selected')=='selected'){curText=curItem.text();}});if(curText==''){curText=_obj.find('option').eq(0).text();}_text.text(curText);},_hidePopup=function(){_opened=false;_popup.stop(true,false).slideUp(300,function(){_popup.remove();});_wrap.removeClass('custom-select_opened');},_constructor=function(){_obj[0].obj=_self;_addWrap();_selectViewType();_onEvents();},_onEvents=function(){_obj.on('change',function(){_text.text(jQuery(this).find('option:selected').text());});if(!_device){_wrap.on({'click':function(e){e.stopPropagation();if(_opened){_hidePopup();}else{_showPopup();}}});_window.on({'click':function(){if(_opened){_hidePopup();}}});}},_selectViewType=function(){if(_device){_setMobileView();}else{_setCustom1();}},_setCustom1=function(){_wrap.addClass('custom-select_custom');},_setMobileView=function(){_wrap.addClass('custom-select_mobile');},_showPopup=function(){var selects=jQuery('select'),id=Math.round(Math.random()*1000);selects.each(function(){if(this!==_obj[0]&&this.obj.checkOpened()){this.obj.close();}});if(_opened){_popup.remove();}_opened=true;_popup=jQuery('<div class="custom-select__popup" id="custom-select__popup'+id+'"></div>');if(_optionType==1){_setViewList();}else if(_optionType==2){_setViewLinks();}},_setViewList=function(){var curIndex=_obj.find('option:selected').index(),offset=_wrap.offset(),list=jQuery('<ul></ul>'),maxHeight=0;_obj.find('option').each(function(i){var curItem=jQuery(this);if(i==curIndex){list.append('<li class="active">'+curItem.text()+'</li>');}else{list.append('<li>'+curItem.text()+'</li>');}});_popup.append(list);_body.append(_popup);_wrap.addClass('custom-select_opened');_popup.css({width:_wrap.outerWidth(),left:offset.left,top:offset.top+_wrap.outerHeight()});maxHeight=_popup.outerHeight();if(maxHeight>_popup.find('li').eq(0).outerHeight()*_visible){_popup.height(_popup.find('li').eq(0).outerHeight()*_visible);_initScroll();}_popup.css({opacity:0.1});_popup.animate({opacity:1},300);_popup.find('li').on({'click':function(e){var index=jQuery(this).index();e.stopPropagation();_obj.val(_obj.find('option').eq(index).attr('value'));_obj.trigger('change');_hidePopup();}});},_setViewLinks=function(){var curIndex=_obj.find('option:selected').index(),offset=_wrap.offset(),list=jQuery('<div></div>'),maxHeight=0;_obj.find('option').each(function(i){var curItem=jQuery(this);if(i==curIndex){list.append('<a href="'+curItem.val()+'" class="active">'+curItem.text()+'</a>');}else{list.append('<a href="'+curItem.val()+'">'+curItem.text()+'</a>');}});_popup.append(list);_body.append(_popup);_wrap.addClass('custom-select_opened');_popup.css({width:_wrap.outerWidth(),left:offset.left,top:offset.top+_wrap.outerHeight()});maxHeight=_popup.outerHeight();if(maxHeight>_popup.find('li').eq(0).outerHeight()*_visible){_popup.height(_popup.find('li').eq(0).outerHeight()*_visible);_initScroll();}_popup.css({opacity:0.1});_popup.animate({opacity:1},300);},_initScroll=function(){var jQuery=document.querySelector.bind(document);if(_scroll!=null){_scroll.update();}else{_scroll=new PerfectScrollbar('.custom-select__popup');}};_self.checkOpened=function(){return _opened;};_self.close=function(){_hidePopup();};_constructor();};})();(function(){jQuery(function(){jQuery.each(jQuery('.basic__navigation'),function(){new BasicNavigation(jQuery(this));});});var BasicNavigation=function(obj){var _obj=obj,_defaultNavigationPosition=_obj.offset().top,_defaultLeftNavigation=_obj.offset().left,_btnOpenMobileNavigation=_obj.find('.basic__navigation-current-item'),_navigationItem=_obj.find('.basic__navigation-item'),_site=jQuery('.site'),_basicWrap=_site.find('.basic'),_articleWrap=_basicWrap.find('.basic__article'),_articleAnchor=_articleWrap.find('.anchor'),_html=jQuery('html'),_body=jQuery('body'),_window=jQuery(window),_position=0;var _init=function(){_onEvent();_checkPositionNavigation();_checkActiveNavigationItem();},_onEvent=function(){_site.on('click',function(e){if(_obj.hasClass('open')&&jQuery(e.target).closest(_obj).length==0){_closeMobileNavigation(_position);};});_window.on({'scroll':function(){_checkPositionNavigation();_checkActiveNavigationItem();},'resize':function(){_defaultLeftNavigation=_obj.offset().left;}});_btnOpenMobileNavigation.on('click',function(){if(!_obj.hasClass('open')){_openMobileNavigation();}else{_closeMobileNavigation(_position);};return false;});_navigationItem.on('click',function(){var curBtn=jQuery(this);curBtn.addClass('hover');_anchor(curBtn);setTimeout(function(){curBtn.removeClass('hover');},500)
return false;});},_anchor=function(item){var curBtn=item;if(_window.outerWidth()<996){_closeMobileNavigation(jQuery(curBtn.attr('href')).offset().top-_btnOpenMobileNavigation.outerHeight()-15);}else{_body.animate({scrollTop:jQuery(curBtn.attr('href')).offset().top-25},600);};},_openMobileNavigation=function(){_position=_window.scrollTop();_obj.addClass('open');setTimeout(function(){_html.scrollTop(_obj.offset().top);_body.scrollTop(_obj.offset().top);},100);setTimeout(function(){_body.css('overflow-y','hidden');},200);},_closeMobileNavigation=function(){_body.removeAttr('style');setTimeout(function(){_html.scrollTop(_position);_body.scrollTop(_position);_checkPositionNavigation();},100);_obj.removeClass('open');},_checkPositionNavigation=function(){var textWrapBottom=_articleWrap.offset().top+_articleWrap.outerHeight()-_obj.outerHeight();if(_body.scrollTop()>=_defaultNavigationPosition||_html.scrollTop()>=_defaultNavigationPosition){_obj.removeAttr('style');_fixNavigationToTop();if(_obj.offset().top>=textWrapBottom){_obj.css({'position':'absolute','top':textWrapBottom-_basicWrap.offset().top,'left':0});};}else if(!_obj.hasClass('open')){_unfixNavigationToTop();}},_checkActiveNavigationItem=function(){_articleAnchor.each(function(){var curAnchor=jQuery(this),_activeNavItem=_navigationItem.filter('[href="#'+curAnchor.attr('id')+'"]');if(_obj.offset().top>=curAnchor.offset().top){_navigationItem.removeClass('active');_activeNavItem.addClass('active');_btnOpenMobileNavigation.html(_activeNavItem.text());};});},_fixNavigationToTop=function(){_obj.addClass('fixed');_obj.css('left',_defaultLeftNavigation);},_unfixNavigationToTop=function(){_obj.removeClass('fixed');_obj.css('left',0);};_init();};})();(function(){"use strict";jQuery(function(){jQuery.each(jQuery('.anchor'),function(){new Anchor(jQuery(this));});jQuery.each(jQuery('.comments__form'),function(){new CommentsForm(jQuery(this));});});var Anchor=function(obj){var _obj=obj,_body=jQuery('html, body'),_window=jQuery(window);var _onEvents=function(){_obj.on({click:function(){var curBtn=jQuery(this),curMargin=curBtn.data('margin');_body.animate({scrollTop:jQuery(curBtn.attr('href')).offset().top-curMargin},600);return false;}});},_construct=function(){_onEvents();};_construct()};var CommentsForm=function(obj){var _obj=obj,_successMessage=_obj.find('.comments__success'),_validation=new FormValidator(_obj);var _init=function(){_onEvent();},_onEvent=function(){_obj.on('submit',function(){if(_validation.valid==true){_showSuccessMessage();};});},_showSuccessMessage=function(){_successMessage.addClass('show');_obj[0].reset();setTimeout(function(){_successMessage.removeClass('show');},4000);};_init();};})();(function(){"use strict";jQuery(function(){jQuery.each(jQuery('.catalog-navigation'),function(){new CatalogNavigation(jQuery(this));});jQuery.each(jQuery('.filter'),function(){new Filter(jQuery(this));});jQuery.each(jQuery('.catalog__filter-select'),function(){new FilterDesktop(jQuery(this));});});var CatalogNavigation=function(obj){var _obj=obj,_defaultNavigationPosition=_obj.offset().top,_defaultLeftNavigation=_obj.offset().left,_btnOpenMobileNavigation=_obj.find('.catalog-navigation__current-item'),_btnOpenMobileSumMenu=_obj.find('.catalog-navigation__btn'),_site=jQuery('.site'),_basicWrap=_site.find('.catalog'),_html=jQuery('html'),_body=jQuery('body'),_window=jQuery(window),_position=0;var _init=function(){_onEvent();_checkPositionNavigation();},_onEvent=function(){_site.on('click',function(e){if(_obj.hasClass('open')&&jQuery(e.target).closest(_obj).length==0){_closeMobileNavigation();}});_window.on({'scroll':function(){_checkPositionNavigation();},'resize':function(){_defaultLeftNavigation=_obj.offset().left;}});_btnOpenMobileNavigation.on('click',function(){if(!_obj.hasClass('open')){_openMobileNavigation();}else{_closeMobileNavigation();};return false;});_btnOpenMobileSumMenu.on('click',function(){var curBtn=jQuery(this),curSubMenu=curBtn.parent('li');if(!curBtn.hasClass('open')){_openMobileSubMenu(curSubMenu);}else{_closeMobileSubMenu(curSubMenu);};return false;});},_openMobileNavigation=function(){_position=_window.scrollTop();_obj.addClass('open');setTimeout(function(){_body.scrollTop(_obj.offset().top);},100);setTimeout(function(){_body.css('overflow-y','hidden');},200);},_closeMobileNavigation=function(){_body.removeAttr('style');setTimeout(function(){_html.scrollTop(_position);_body.scrollTop(_position);_checkPositionNavigation();},100);_obj.removeClass('open');},_openMobileSubMenu=function(subMenu){var curWrap=subMenu,curBtn=curWrap.find('.catalog-navigation__btn'),curSubMenu=curWrap.find('.catalog-navigation__sub-menu'),curSubMenuHeight=curSubMenu.find('ul').outerHeight();curBtn.addClass('open');curSubMenu.css('height',curSubMenuHeight);},_closeMobileSubMenu=function(subMenu){var curWrap=subMenu,curBtn=curWrap.find('.catalog-navigation__btn'),curSubMenu=curWrap.find('.catalog-navigation__sub-menu');curBtn.removeClass('open');curSubMenu.removeAttr('style');},_checkPositionNavigation=function(){var textWrapBottom=_basicWrap.offset().top+_basicWrap.outerHeight()-_obj.outerHeight();if(_body.scrollTop()>=_defaultNavigationPosition||_html.scrollTop()>=_defaultNavigationPosition){_obj.removeAttr('style');_fixNavigationToTop();if(_obj.offset().top>=textWrapBottom){_obj.css({'position':'absolute','top':textWrapBottom-_basicWrap.offset().top,'left':0});};}else if(!_obj.hasClass('open')){_unfixNavigationToTop();}},_fixNavigationToTop=function(){_obj.addClass('fixed');_obj.css('left',_defaultLeftNavigation);},_unfixNavigationToTop=function(){_obj.removeClass('fixed');_obj.css('left',0);};_init();};var CatalogList=function(obj){var _obj=obj,_item=_obj.find('.products__item'),_window=jQuery(window);var _init=function(){_onEvent();if(_window.outerWidth()>568){_uploadMargin();}},_uploadMargin=function(){var wrapWidth=_obj.outerWidth(),itemWidth=_item.outerWidth(),itemMargin=0,items=0;items=Math.floor(wrapWidth/itemWidth);itemMargin=wrapWidth-itemWidth*items;itemMargin=itemMargin/(items-1);if(itemMargin<5){items=items-1;itemMargin=wrapWidth-itemWidth*items;itemMargin=itemMargin/(items-1);}_item.css('margin-right',itemMargin);_obj.css('margin-right',(itemMargin*-1));},_onEvent=function(){_window.on('resize',function(){_obj.removeAttr('style');_item.removeAttr('style');if(_window.outerWidth()>568){_uploadMargin();}});};_init();};var Filter=function(obj){var _obj=obj,_btnOpenFilter=jQuery('.catalog__filter-all'),_btnCloseFilter=_obj.find('.filter__close'),_selectOfFilter=_obj.find('.filter__item'),_clearAll=_obj.find('.filter__clear-all'),_clearBtn=_selectOfFilter.find('.filter__item-clear'),_btnSelect=_selectOfFilter.find('.filter__item-topic'),_position=0,_window=jQuery(window),_body=jQuery('body'),_site=jQuery('.site');var _init=function(){_onEvent();},_onEvent=function(){_obj.on('click',function(e){if(jQuery(e.target).closest(_selectOfFilter).length==0){_closeFilter();}});_btnOpenFilter.on('click',function(){_openFilter();return false;});_btnCloseFilter.on('click',function(){_closeFilter();return false;});_btnSelect.on('click',function(){var curBtn=jQuery(this),curSelect=curBtn.parents('.filter__item');if(!curSelect.hasClass('open')){_openSelectWrap(curSelect);}else{_closeSelectWrap(curSelect);}return false;});_clearAll.on('click',function(){_clearCheckbox(_obj);return false;});_clearBtn.on('click',function(){var curBtn=jQuery(this),curWrap=curBtn.parents('.filter__item');_clearCheckbox(curWrap);return false;});},_clearCheckbox=function(wrap){var curWrap=wrap,checkbox=curWrap.find('input[type=checkbox]');checkbox.prop('checked',false);},_openSelectWrap=function(item){var curSelect=item;curSelect.addClass('open');},_closeSelectWrap=function(item){var curSelect=item;curSelect.removeClass('open');},_openFilter=function(){_position=_window.scrollTop();_body.css('overflow-y','hidden');_site.css({'position':'relative','top':_position*-1});_obj.addClass('show');},_closeFilter=function(){_body.removeAttr('style');_site.removeAttr('style');_window.scrollTop(_position);_obj.removeClass('show');};_init();};var FilterDesktop=function(obj){var _obj=obj,_filterSelect=jQuery('.catalog__filter-select'),_site=jQuery('.site');var _init=function(){_onEvent();},_onEvent=function(){_site.on('click',function(e){if(_obj.hasClass('open')&&jQuery(e.target).closest(_obj).length==0){_closePopup();};});_obj.on('click',function(){var curSelect=jQuery(this);if(!curSelect.hasClass('open')){_openPopup(curSelect);}});},_closePopup=function(){_filterSelect.removeClass('open');},_openPopup=function(select){_closePopup();var curSelect=select;curSelect.addClass('open');};_init();};})();(function(){"use strict";jQuery(function(){jQuery.each(jQuery('.magnet-download__form'),function(){new SubscribeForm(jQuery(this));});});var SubscribeForm=function(obj){var _obj=obj,_successMessage=_obj.find('.magnet-download__form-success'),_validation=new FormValidator(_obj);var _init=function(){_onEvent();},_onEvent=function(){_obj.on('submit',function(){if(_validation.valid==true){_showSuccessMessage();};return false;});},_showSuccessMessage=function(){_successMessage.addClass('show');_obj[0].reset();setTimeout(function(){_successMessage.removeClass('show');},4000);};_init();};})();(function(){"use strict";jQuery(function(){jQuery.each(jQuery('.style-guide__article'),function(){new StyleGuideSlider(jQuery(this));});});var StyleGuideSlider=function(obj){var _obj=obj,_pictureSlider=_obj.find('.style-guide__slider'),_picturePagination=_obj.find('.style-guide__slider-pagination'),_picture;var _initSlider=function(){_picture=new Swiper(_pictureSlider,{effect:'slide',loop:true,autoplay:false,speed:500,pagination:{el:_picturePagination,clickable:true}});},_construct=function(){_initSlider();};_construct();};})();(function(){"use strict";jQuery(function(){jQuery.each(jQuery('.forgot-password__form'),function(){new ForgotPasswordForm(jQuery(this));});});var ForgotPasswordForm=function(obj){var _obj=obj,_successMessage=_obj.find('.forgot-password__success'),_validation=new FormValidator(_obj);var _init=function(){_onEvent();},_onEvent=function(){_obj.on('submit',function(){if(_validation.valid==true){_showSuccessMessage();};});},_showSuccessMessage=function(){_successMessage.addClass('show');_obj[0].reset();setTimeout(function(){_successMessage.removeClass('show');},4000);};_init();};})();(function(){"use strict";jQuery(function(){jQuery.each(jQuery('.shopping-cart__row-counter'),function(){new Counter(jQuery(this));});});var Counter=function(obj){var _obj=obj,_input=_obj.find('.shopping-cart__counter-input'),_btnMinus=_obj.find('.shopping-cart__counter-minus'),_btnPlus=_obj.find('.shopping-cart__counter-plus');var _init=function(){_onEvent();},_onEvent=function(){_btnMinus.on('click',function(){var inputVal=+(_input.val());if(inputVal>1){_input.val(inputVal-1);}return false;});_btnPlus.on('click',function(){var inputVal=+(_input.val());_input.val(inputVal+1);return false;});};_init();};})();(function(){"use strict";jQuery(function(){jQuery.each(jQuery('form'),function(){new ValidForm(jQuery(this));});});var ValidForm=function(obj){var _obj=obj,_validation=new FormValidator(_obj);var _init=function(){_onEvent();},_onEvent=function(){_obj.on('submit',function(){if(_validation.valid!=false){return false;};});};_init();};})();(function(){"use strict";jQuery(function(){jQuery.each(jQuery('.wholesale-form__item'),function(){new WholesaleForm(jQuery(this));});jQuery.each(jQuery('.current-catalog__form'),function(){new CurrentCatalogForm(jQuery(this));});jQuery.each(jQuery('.wholesale-hero__anchor'),function(){new Anchor(jQuery(this));});jQuery.each(jQuery('.flyers-posters__counter'),function(){new Counter(jQuery(this));});jQuery.each(jQuery('.flyers-posters__item'),function(){new AddToCart(jQuery(this));});});var AddToCart=function(obj){var _obj=obj,_btnBuy=_obj.find('.flyers-posters__buy-btn'),_successMessage=_obj.find('.flyers-posters__add-success');var _init=function(){_onEvent();},_onEvent=function(){_btnBuy.on('click',function(){_showSuccessMessage();});return false;},_showSuccessMessage=function(){_successMessage.addClass('show');setTimeout(function(){_successMessage.removeClass('show');},2000)};_init();};var Anchor=function(obj){var _obj=obj,_body=jQuery('html, body'),_window=jQuery(window);var _onEvents=function(){_obj.on({click:function(){var curBtn=jQuery(this),curMargin=curBtn.data('margin');_body.animate({scrollTop:jQuery(curBtn.attr('href')).offset().top-curMargin},600);return false;}});},_construct=function(){_onEvents();};_construct()};var Counter=function(obj){var _obj=obj,_input=_obj.find('.flyers-posters__counter-input'),_btnMinus=_obj.find('.flyers-posters__counter-minus'),_btnPlus=_obj.find('.flyers-posters__counter-plus');var _init=function(){_onEvent();},_onEvent=function(){_btnMinus.on('click',function(){var inputVal=+(_input.val());if(inputVal>1){_input.val(inputVal-1);}return false;});_btnPlus.on('click',function(){var inputVal=+(_input.val());_input.val(inputVal+1);return false;});};_init();};var CurrentCatalogForm=function(obj){var _obj=obj,_successMessage=_obj.find('.current-catalog__form-success'),_validation=new FormValidator(_obj);var _init=function(){_onEvent();},_onEvent=function(){_obj.on('submit',function(){if(_validation.valid==true){_showSuccessMessage();};return false;});},_showSuccessMessage=function(){_successMessage.addClass('show');_obj[0].reset();setTimeout(function(){_successMessage.removeClass('show');},4000);};_init();};var WholesaleForm=function(obj){var _obj=obj,_successMessage=_obj.find('.wholesale-form__success'),_validation=new FormValidator(_obj);var _init=function(){_onEvent();},_onEvent=function(){_obj.on('submit',function(){if(_validation.valid==true){_showSuccessMessage();};return false;});},_showSuccessMessage=function(){_successMessage.addClass('show');_obj[0].reset();setTimeout(function(){_successMessage.removeClass('show');},4000);};_init();};})();(function(){"use strict";jQuery(function(){jQuery.each(jQuery('.custom-settings'),function(){new CustomSettings(jQuery(this));});jQuery.each(jQuery('.product-slider'),function(){new ProductGallery(jQuery(this));});jQuery.each(jQuery('.products'),function(){new ProductsSlider(jQuery(this));});jQuery.each(jQuery('.review'),function(){new ReviewSlider(jQuery(this));});jQuery.each(jQuery('.product__info'),function(){new Tabs(jQuery(this));});jQuery.each(jQuery('.product__counter'),function(){new Counter(jQuery(this));});jQuery.each(jQuery('.product__footer'),function(){new StickyFooter(jQuery(this));});});var Counter=function(obj){var _obj=obj,_input=_obj.find('.product__counter-input'),_btnMinus=_obj.find('.product__counter-minus'),_btnPlus=_obj.find('.product__counter-plus');var _init=function(){_onEvent();},_onEvent=function(){_btnMinus.on('click',function(){var inputVal=+(_input.val());if(inputVal>=1){_input.val(inputVal-1);}return false;});_btnPlus.on('click',function(){var inputVal=+(_input.val());_input.val(inputVal+1);return false;});_input.on('change',function(){var curInput=jQuery(this);if(!(curInput.val()>=0)||curInput.val()==''){curInput.val(0);}})};_init();};var CustomSettings=function(obj){var _obj=obj,_form=_obj.find('.custom-settings__form'),_totalCostFrame=_obj.find('.custom-settings__total-cost'),_depositFrame=_obj.find('.custom-settings__deposit'),_totalDepositFrame=_obj.find('.custom-settings__total-deposit'),_input=_form.find('input[type=text]'),_linkToHandler=_form.attr('action'),_tableCustomOptions=_obj.find('.custom-settings__table'),_rowsFrameCustomOptions=_tableCustomOptions.find('ul'),_checkPopup=_obj.find('.custom-settings__popup'),_checkPopupClose=_obj.find('.custom-settings__popup-close'),_accessBtn=_obj.find('.custom-settings__access'),_changeBtn=_obj.find('.custom-settings__change'),_customSizeArr={},_validation=new FormValidator(_form);var _init=function(){_onEvent();_dataCollection();},_onEvent=function(){_input.on('focusout',function(){_addNotTouchedClass();});_form.on('submit',function(){_dataCollection('send');return false;});_checkPopupClose.on('click',function(){_checkPopup.removeClass('show');_form.removeClass('load');_form[0].reset();return false;});_changeBtn.on('click',function(){_checkPopup.removeClass('show');_form.removeClass('load');return false;});_accessBtn.on('click',function(){_checkPopup.removeClass('show');_addNewCustomOptions(data);return false;});},_addNotTouchedClass=function(){_input.each(function(){var curItem=jQuery(this);if(curItem.val()===''){curItem.addClass('not-touched');}else{curItem.removeClass('not-touched');};});_checkFormBeforeCalculate();},_checkFormBeforeCalculate=function(){if(_input.filter('.not-touched').length==0){_dataCollection();};},_dataCollection=function(event){_form.addClass('load');_customSizeArr['id']=_form.data('id');_input.each(function(){var curInput=jQuery(this);_customSizeArr[curInput.data('key')]=curInput.val();});if(event=='send'){_openCheckPopup();}else{_form.removeClass('load');}},_openCheckPopup=function(){var lengthFeetFrame=_checkPopup.find('.custom-settings__length-feet'),lengthInchFrame=_checkPopup.find('.custom-settings__length-inch'),widthFeetFrame=_checkPopup.find('.custom-settings__width-feet'),widthInchFrame=_checkPopup.find('.custom-settings__width-inch'),priceFrame=_checkPopup.find('.custom-settings__total-price');lengthFeetFrame.text(_customSizeArr.length_feet);lengthInchFrame.text(_customSizeArr.length_inch);widthFeetFrame.text(_customSizeArr.width_feet);widthInchFrame.text(_customSizeArr.width_inch);priceFrame.text(_totalDepositFrame.text());_checkPopup.addClass('show');},_addNewCustomOptions=function(data){var setData=data,totalCost=parseFloat(setData.total_cost),depositCost=+(setData.deposit),idProduct=+(setData.id);var rowFrame=jQuery('<div class="custom-settings__row"></div>'),cellDelete=jQuery('<div class="custom-settings__cell-delete"></div>'),cellCounter=jQuery('<div class="custom-settings__cell-counter"></div>'),removeBtn=jQuery('<a href="#" class="custom-settings__remove">remove</a>'),counter=jQuery('<div class="product__counter">'+'<button type="submit" class="product__counter-minus"><span>-</span></button>'+'<input type="number" value="0" class="product__counter-input"/>'+'<button type="submit" class="product__counter-plus"><span>+</span></button></div>');counter.attr('data-id',idProduct);removeBtn.attr('data-id',idProduct);cellDelete.append(removeBtn);cellCounter.append(counter);rowFrame.append('<div>'+_customSizeArr.length_feet+'\' '+_customSizeArr.length_inch+'\" x '+_customSizeArr.width_feet+'\' '+_customSizeArr.width_inch+'\"</div>');rowFrame.append('<div>jQuery'+(totalCost*depositCost/100).toFixed(2)+'</div>');rowFrame.append(cellDelete);rowFrame.append(cellCounter);_rowsFrameCustomOptions.append(rowFrame);_form.removeClass('load');_form[0].reset();_dataCollection();_setTableHeight();_removeCustomRow(removeBtn);new Counter(counter);},_removeCustomRow=function(btn){var curBtn=btn,curRow=curBtn.parents('.custom-settings__row');curBtn.on('click',function(){curRow.remove();_setTableHeight();return false;});},_setTableHeight=function(){_tableCustomOptions.css('height',_rowsFrameCustomOptions.outerHeight());jQuery('.product__info')[0].obj.setHeight();};_init();};var ProductGallery=function(obj){var _obj=obj,_topGallery=_obj.find('.product-slider__top'),_topGalleryPagination=_obj.find('.product-slider__top-pagination'),_thumbsGallery=_obj.find('.product-slider__thumbs'),_thumbsPrevBtn=_obj.find('.product-slider__bottom-prev'),_thumbsNextBtn=_obj.find('.product-slider__bottom-next'),_galleryTop,_galleryThumbs;var _initSlider=function(){_galleryTop=new Swiper(_topGallery,{slidesPerView:1,on:{slideChangeTransitionStart:function(){var topSlides=_topGallery.find('.swiper-slide'),numActiveSlide=topSlides.filter('.swiper-slide-active').index(),paginationSlides=_thumbsGallery.find('.swiper-slide'),paginationActiveSlide=paginationSlides.eq(numActiveSlide);paginationSlides.removeClass('active');paginationActiveSlide.addClass('active');_thumbsGallery[0].swiper.slideTo(numActiveSlide,200,false)}},pagination:{el:_topGalleryPagination,clickable:true},});_galleryThumbs=new Swiper(_thumbsGallery,{slidesPerView:5,navigation:{nextEl:_thumbsNextBtn,prevEl:_thumbsPrevBtn},on:{init:function(){var paginationSlides=_thumbsGallery.find('.swiper-slide');paginationSlides.eq(0).addClass('active');paginationSlides.on('click',function(){var curSlide=jQuery(this),numActiveSlide=curSlide.index();paginationSlides.removeClass('active');curSlide.addClass('active');_topGallery[0].swiper.slideTo(numActiveSlide,200,false);return false;});},slideChangeTransitionStart:function(){var paginationSlides=_thumbsGallery.find('.swiper-slide'),numActiveSlide=paginationSlides.filter('.active').index();_topGallery[0].swiper.slideTo(numActiveSlide,200,false);}}});},_onEvent=function(){},_init=function(){_onEvent();_initSlider();};_init();};var ProductsSlider=function(obj){var _obj=obj,_productsSlider=_obj.find('.products__slider'),_nextBtn=_obj.find('.products__slider-next'),_prevBtn=_obj.find('.products__slider-prev'),_products;var _initSlider=function(){_products=new Swiper(_productsSlider,{effect:'slide',centeredSlides:true,autoplay:false,loop:true,slidesPerView:'auto',spaceBetween:30,speed:500,navigation:{nextEl:_nextBtn,prevEl:_prevBtn}});},_construct=function(){_initSlider();};_construct();};var ReviewSlider=function(obj){var _obj=obj,_reviewSlider=_obj.find('.review__slider'),_loopVariable=_reviewSlider.data('loop'),_review;if(_loopVariable==undefined){_loopVariable=false};var _initSlider=function(){_review=new Swiper(_reviewSlider,{effect:'slide',centeredSlides:true,autoplay:false,loop:_loopVariable,slidesPerView:'auto',spaceBetween:30,speed:500});},_construct=function(){_initSlider();};_construct();};var StickyFooter=function(obj){var _obj=obj,_footerWrap=_obj.find('.product__footer-wrap'),_window=jQuery(window);var _init=function(){_onEvent();_checkSticky();},_onEvent=function(){_window.on({'resize':function(){_checkSticky();},'scroll':function(){_checkSticky();}});},_checkSticky=function(){if((_window.scrollTop()+_window.outerHeight())>=_obj.offset().top+_obj.outerHeight()){_removeStickyWrap();}else{_stickyWrap();}},_removeStickyWrap=function(){_footerWrap.removeClass('sticky');_footerWrap.removeAttr('style');},_stickyWrap=function(){_footerWrap.addClass('sticky');_footerWrap.css({'left':_obj.offset().left,'width':_obj.outerWidth()});};_init();};var Tabs=function(obj){var _obj=obj,_self=this,_tabLabel=_obj.find('.product__info-label'),_tabWrap=_obj.find('.product__tab-wrap'),_tabItemWrap=_obj.find('.product__info-item'),_window=jQuery(window);var _init=function(){_onEvent();_activeTab(0);_obj[0].obj=_self;},_onEvent=function(){_tabLabel.on('click',function(){var curItem=jQuery(this),numCurItem=curItem.index();_activeTab(numCurItem);return false;});_window.on('resize',function(){_setHeight();});},_activeTab=function(item){var numActiveItem=item;_tabLabel.removeClass('active');_tabItemWrap.removeClass('active');_tabLabel.eq(numActiveItem).addClass('active');_tabItemWrap.eq(numActiveItem).addClass('active');_setHeight();},_setHeight=function(){var activeWrap=_tabItemWrap.filter('.active');_tabWrap.css('height',activeWrap.outerHeight());};_self.setHeight=function(){_setHeight();};_init();};})();var FormValidator=function(obj){var _obj=obj,_self=this,_inputs=_obj.find('input, textarea'),_fields=_obj.find('[data-required]'),_checkboxInput=_obj.find('input[type=checkbox]'),_radioInput=_obj.find('input[type=radio]');var _init=function(){_onEvents();_obj[0].obj=_self;},_addNotTouchedClass=function(){_fields.each(function(){var curItem=jQuery(this);if(curItem.val()===''||!curItem.is(':checked')){curItem.addClass('not-touched');_validateField(curItem);}if(curItem.hasClass('valid')){curItem.removeClass('not-touched');}});},_onEvents=function(){_fields.on({focus:function(){jQuery(this).removeClass('not-touched');},focusout:function(){var curItem=jQuery(this);_validateField(curItem);},keyup:function(){var curItem=jQuery(this);if(curItem.hasClass('not-valid')){_validateField(curItem);}}});_inputs.on({focusout:function(){var letterCounter=0;_inputs.each(function(){var curItem=jQuery(this);if(curItem.val().length>0){letterCounter=letterCounter+1}});if(letterCounter===0){_inputs.removeClass('not-valid');_self.valid=false;}}});_obj.on({submit:function(){_addNotTouchedClass();if(!(_fields.filter('.not-valid').length===0)){_self.valid=false;}if(_fields.hasClass('not-touched')||_fields.hasClass('not-valid')){_obj.find('.not-touched:first').focus();_obj.find('.not-valid:first').focus();_self.valid=false;return false;};}});_checkboxInput.on('change',function(){jQuery(this).removeClass('not-valid not-touched');});_radioInput.on('change',function(){var curItem=jQuery(this);curItem.removeClass('not-valid not-touched');_radioInput.filter('[name='+curItem.attr('name')+']').removeClass('not-valid not-touched');});},_makeNotValid=function(field){field.addClass('not-valid');field.removeClass('valid');},_makeValid=function(field){field.removeClass('not-valid');field.addClass('valid');},_validateEmail=function(email){var re=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))jQuery/;return re.test(email);},_validateField=function(field){var type=field.attr('type'),tagName=field[0].tagName;if(type==='email'||type==='text'||type==='tel'||type==='password'){if(field.val()===''){_makeNotValid(field);_self.valid=false;return false;}}if(type==='email'){if(!_validateEmail(field.val())){_makeNotValid(field);_self.valid=false;return false;}}if(type==='checkbox'){if(!field.is(':checked')){_makeNotValid(field);_self.valid=false;return false;}}if(type==='radio'){if(!field.is(':checked')&&!_radioInput.filter('[name='+field.attr('name')+']').is(':checked')){_makeNotValid(field);_self.valid=false;return false;}}if(tagName.toLocaleLowerCase()=='textarea'){if(field.val()===''){_makeNotValid(field);_self.valid=false;return false;}}_makeValid(field);if(_fields.filter('.not-valid').length===0){_self.valid=true;}};_self.valid=false;_init();};